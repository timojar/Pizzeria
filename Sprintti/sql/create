
CREATE TABLE Admin
(
id INTEGER NOT NULL,
salasana VARCHAR(15) NOT NULL,
käyttäjätunnus VARCHAR(15) NOT NULL,
PRIMARY KEY(id)
);


create table Tayte (
tayteNimi varchar(30)  not null,
saatavuus  integer not null,
 primary key(tayteNimi)
);


CREATE TABLE Pizza
(
id INTEGER NOT NULL,
nimi VARCHAR(15),
hinta DECIMAL(6,2),
sisältökuvaus VARCHAR(15),
kuvalinkki VARCHAR(1000),		
piiloitus VARCHAR(15),
PRIMARY KEY(id)
);


CREATE TABLE PizzaTayte
(
tayteNimi VARCHAR(15) NOT NULL,
pizzaId INTEGER NOT NULL,
lkm INTEGER,
PRIMARY KEY(tayteNimi, pizzaId),
FOREIGN KEY(pizzaId) REFERENCES Pizza (id),
FOREIGN KEY(tayteNimi) REFERENCES Tayte(tayteNimi)
)
;

CREATE TABLE Asiakas(
asiakasnumero INTEGER NOT NULL,
etunimi VARCHAR(30) NOT NULL,
sukunimi VARCHAR(40) NOT NULL,
email VARCHAR(50) NOT NULL,
salasana VARCHAR(15) NOT NULL,

primary key(asiakasnumero)
)

;

CREATE TABLE Tilaus
(
numero INTEGER NOT NULL,
asiakasnumero INTEGER,
tilausajankohta DATE,
toimitusajankohta DATE,
toimitustapa VARCHAR(35),
maksutapa VARCHAR(35), 			
hinta DECIMAL(5,2),
PRIMARY KEY (numero),
FOREIGN KEY (asiakasnumero) REFERENCES Asiakas (asiakasnumero)
) 
;

CREATE TABLE Tilausrivi
(
pizzaid INTEGER NOT NULL,		
tilausNro INTEGER NOT NULL,
lkm INTEGER	NOT NULL,			
hinta DECIMAL(6,2),
PRIMARY KEY (pizzaid, tilausNro),
FOREIGN KEY (pizzaid) REFERENCES Pizza(id),
FOREIGN KEY (tilausNro) REFERENCES Tilaus(numero)
	
)

